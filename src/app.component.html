@if(authService.isAuthenticated()) {
<div class="relative min-h-screen md:flex bg-slate-950">
  <!-- Mobile Header -->
  <app-mobile-header class="md:hidden" (toggleSidebar)="isSidebarOpen.set(!isSidebarOpen())"></app-mobile-header>

  <!-- Sidebar -->
  <app-sidebar 
    [activeView]="activeView()"
    [isOpen]="isSidebarOpen()"
    (viewChange)="setView($event); isSidebarOpen.set(false)"
    (logout)="logout()"
    (close)="isSidebarOpen.set(false)">
  </app-sidebar>

  <!-- Main content -->
  <main class="flex-grow p-4 md:p-8 overflow-y-auto">
    @switch (activeView()) {
      @case ('pages') {
        <app-page-list></app-page-list>
      }
      @case ('suites') {
        <app-test-suite-list></app-test-suite-list>
      }
      @case ('e2e') {
        <app-e2e-flow-list></app-e2e-flow-list>
      }
    }
  </main>
</div>
} @else {
  <app-login></app-login>
}