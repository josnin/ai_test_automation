<!-- Backdrop for mobile -->
@if(isOpen()) {
  <div (click)="close.emit()" class="fixed inset-0 bg-black/60 z-30 md:hidden"></div>
}

<aside 
  [class.translate-x-0]="isOpen()"
  [class.-translate-x-full]="!isOpen()"
  class="fixed inset-y-0 left-0 flex flex-col w-64 bg-slate-900 border-r border-slate-800 z-40 transform transition-transform duration-300 ease-in-out md:relative md:translate-x-0">
  
  <!-- Logo -->
  <div class="flex items-center justify-center h-16 md:h-20 border-b border-slate-800 flex-shrink-0 px-4">
      <div class="flex items-center space-x-2">
        <svg class="h-8 w-8 text-indigo-400" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" d="M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.259 8.715L18 9.75l-.259-1.035a3.375 3.375 0 00-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 002.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 002.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 00-2.456 2.456zM16.898 20.562L16.25 22.25l-.648-1.688a4.5 4.5 0 01-2.324-2.324L11.563 17.5l1.688-.648a4.5 4.5 0 012.324 2.324l.648 1.688z"></path>
        </svg>
        <h1 class="text-xl font-bold text-white">RoboGenius AI</h1>
      </div>
  </div>

  <!-- Navigation -->
  <nav class="flex-grow p-4 space-y-2">
    <button 
      (click)="viewChange.emit('pages')"
      [class.bg-slate-800]="activeView() === 'pages'"
      [class.text-white]="activeView() === 'pages'"
      class="w-full flex items-center text-left text-slate-300 hover:bg-slate-800 hover:text-white rounded-md px-3 py-2 text-sm font-medium transition-colors">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-3" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m2.25 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"></path>
      </svg>
      Test Pages
    </button>
    <button 
      (click)="viewChange.emit('suites')"
      [class.bg-slate-800]="activeView() === 'suites'"
      [class.text-white]="activeView() === 'suites'"
      class="w-full flex items-center text-left text-slate-300 hover:bg-slate-800 hover:text-white rounded-md px-3 py-2 text-sm font-medium transition-colors">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-3" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" d="M2.25 12.75V12A2.25 2.25 0 0 1 4.5 9.75h15A2.25 2.25 0 0 1 21.75 12v.75m-8.69-6.44-2.12-2.12a1.5 1.5 0 0 0-1.061-.44H4.5A2.25 2.25 0 0 0 2.25 6v12a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9a2.25 2.25 0 0 0-2.25-2.25h-5.379a1.5 1.5 0 0 1-1.06-.44Z"></path>
      </svg>
      Test Suites
    </button>
    <button 
      (click)="viewChange.emit('e2e')"
      [class.bg-slate-800]="activeView() === 'e2e'"
      [class.text-white]="activeView() === 'e2e'"
      class="w-full flex items-center text-left text-slate-300 hover:bg-slate-800 hover:text-white rounded-md px-3 py-2 text-sm font-medium transition-colors">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-3" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" d="M12 6.042A8.967 8.967 0 0 0 6 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 0 1 6 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 0 1 6-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0 0 18 18a8.967 8.967 0 0 0-6 2.292m0-14.25v14.25"></path>
      </svg>
      E2E Flows
    </button>
  </nav>

  <!-- User profile/logout -->
  <div class="p-4 border-t border-slate-800 flex-shrink-0">
    <div class="flex items-center justify-between">
      <div class="flex items-center space-x-3">
        <div class="bg-indigo-500 rounded-full h-8 w-8 flex items-center justify-center text-sm font-bold text-white">
          A
        </div>
        <span class="text-sm font-medium text-white">admin</span>
      </div>
      <button (click)="logout.emit()" title="Logout" class="text-slate-400 hover:text-white hover:bg-slate-700 p-2 rounded-md">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
          <path stroke-linecap="round" stroke-linejoin="round" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"></path>
        </svg>
      </button>
    </div>
  </div>
</aside>
