<div class="flex justify-between items-center mb-6">
  <h2 class="text-2xl font-bold text-white">E2E Flows</h2>
  <button (click)="openAddModal()" class="inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700">
    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
      <path stroke-linecap="round" stroke-linejoin="round" d="M12 4v16m8-8H4" />
    </svg>
    Add New E2E Flow
  </button>
</div>

@if (e2eFlowService.flows().length === 0) {
  <div class="text-center py-20 px-4 bg-slate-900 rounded-lg border border-slate-800">
     <svg xmlns="http://www.w3.org/2000/svg" class="mx-auto h-12 w-12 text-slate-600" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" >
      <path stroke-linecap="round" stroke-linejoin="round" d="M12 6.042A8.967 8.967 0 0 0 6 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 0 1 6 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 0 1 6-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0 0 18 18a8.967 8.967 0 0 0-6 2.292m0-14.25v14.25" />
    </svg>
    <h3 class="mt-4 text-lg font-medium text-white">No E2E Flows Created</h3>
    <p class="mt-1 text-sm text-slate-400">Combine your test suites to create end-to-end test flows.</p>
  </div>
} @else {
  <div class="bg-slate-900 rounded-lg border border-slate-800 shadow-md">
    @for (flow of e2eFlowService.flows(); track flow.id) {
      <app-e2e-flow-item 
        [flow]="flow"
        (edit)="openEditModal($event)"
        (delete)="e2eFlowService.deleteFlow($event)"
        (run)="handleRunFlow($event)">
      </app-e2e-flow-item>
    }
  </div>
}

<app-add-e2e-flow-modal
  [isOpen]="isModalOpen()"
  [flowToEdit]="flowToEdit()"
  (close)="isModalOpen.set(false)"
  (save)="handleSave($event)">
</app-add-e2e-flow-modal>